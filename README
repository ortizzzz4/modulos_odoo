l10n_sv_dte/
โ
โโโ ๐ controllers/          # Controladores HTTP (APIs, webhooks)
โ   
โ
โโโ ๐ models/              # Modelos de negocio (lรณgica principal)
โ   โโโ __init__.py
โ   โโโ account_move.py     # Herencia de facturas (DTE)
โ   
โ
โโโ ๐ static/              # Recursos estรกticos
โ   โโโ description/
โ   โ   โโโ icon.png        # Icono del mรณdulo (128x128)
โ   โ   
โ   โโโ src/
โ   โ   โโโ css/           # Estilos personalizados
โ   โ   โโโ js/            # JavaScript (widgets, acciones)
โ   โ   โโโ xml/           # Templates QWeb para JS
โ              
โ
โโโ ๐ tests/               # Tests unitarios y de integraciรณn
โ   โโโ __init__.py
โ   โโโ account_move_test.py      # Tests de facturaciรณn
โ   
โ
โโโ ๐ views/               # Vistas XML (interfaz de usuario)
โ   โโโ account_move_views.xml    # Formularios de facturas
โ   
โ
โโโ ๐ wizards/             # Asistentes (wizards)
โ   โโโ __init__.py
โ   
โโโ ๐ __init__.py          # Inicializaciรณn del mรณdulo
โโโ ๐ __manifest__.py      # Metadatos y dependencias
โโโ ๐ LICENSE              # Licencia del software
โโโ ๐ README.md            # Documentaciรณn principal

๐ Flujo de Datos

โโโโโโโโโโโโโโโโโโโ
โ   Usuario Odoo  โ
โโโโโโโโโโฌโโโโโโโโโ
         โ
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Vista: Factura         โ
โ  (account_move_views)   โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
         โ Click "Firmar DTE"
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Modelo: AccountMove    โ
โ  action_firmar_dte()    โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
         โ
         โโโโบ _preparar_payload_dte()
         โ    โโ _preparar_items()
         โ    โโ _preparar_receptor()
         โ    โโ _preparar_emisor()
         โ    โโ _preparar_resumen()
         โ
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Servicio Firmador      โ
โ  (API Externa)          โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
         โ Documento Firmado
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Modelo: AccountMove    โ
โ  documento_firmado      โ
โ  estado_dte = 'firmado' โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
         โ Click "Enviar a MH"
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Ministerio Hacienda    โ
โ  (API MH)               โ
โโโโโโโโโโฌโโโโโโโโโโโโโโโโโ
         โ Respuesta + Sello
         โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Modelo: AccountMove    โ
โ  confirmacion (sello)   โ
โ  estado_dte='procesado' โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ